/* 
Inspired by BP&O Designs for Ortto
https://bpando.org/2023/03/21/automation-brand-custom-journeys-design-ortto/ 
*/

:root {
    --black: cyan;
    --white: #f4f2ef;
    --pink: #f9b4b1;
    --red: #f15e3d;
    --blue: #2e72fe;
    --green: #14a196;
  
    --circles-dur: 3s;
    --arrows-dur: 5s;
    --rects-dur: 7s;
    --marbles-dur: 5s;
  }

  .animated-shapes {
    overflow: hidden;
    margin-bottom: 60px;
    height: 120px;
  }
    
  #arrows {
    transform: scaleX(-1);
    position: relative;
    overflow: hidden;
    display: flex;
  }
  
  #arrows > div {
    box-sizing: border-box;
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 100%;
    display: flex;
    padding: 0.5rem;
  }
  
  .long-arrow {
    background: var(--black);
    width: 65%;
    height: 100%;
    clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 66% 100%, 100% 50%, 66% 0%);
    transform-origin: right center;
    animation: long-arrow-move var(--arrows-dur) infinite both;
  }
  
  @keyframes long-arrow-move {
    0% {
      translate: -130% 0%;
      clip-path: polygon(50% 0%, 50% 100%, 50% 100%, 66% 100%, 100% 50%, 66% 0%);
    }
    10% {
      clip-path: polygon(50% 0%, 50% 100%, 50% 100%, 66% 100%, 100% 50%, 66% 0%);
    }
    25% {
      translate: 0% 0%;
      clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 66% 100%, 100% 50%, 66% 0%);
    }
    30% {
      translate: 0% 0%;
      clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 66% 100%, 100% 50%, 66% 0%);
    }
    35% {
      translate: 60% 0%;
    }
    35% {
      clip-path: polygon(50% 0%, 50% 100%, 50% 100%, 66% 100%, 100% 50%, 66% 0%);
      transform: scale(1);
      opacity: 1;
    }
    55%,
    100% {
      clip-path: polygon(75% 0%, 75% 100%, 50% 100%, 66% 100%, 100% 50%, 66% 0%);
      translate: 60% 0%;
      transform: scale(0);
      opacity: 0;
    }
  }
  
  .short-arrow {
    background: var(--black);
    width: 40%;
    height: 100%;
    transform-origin: right center;
    clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 50% 100%, 100% 50%, 50% 0%);
    animation: short-arrow-move var(--arrows-dur) infinite both;
  }
  
  @keyframes short-arrow-move {
    0% {
      translate: -350% 0%;
      clip-path: polygon(50% 0%, 50% 100%, 50% 100%, 50% 100%, 100% 50%, 50% 0%);
    }
    25% {
      translate: 0% 0%;
      clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 50% 100%, 100% 50%, 50% 0%);
    }
    30% {
      clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 50% 100%, 100% 50%, 50% 0%);
    }
    50% {
      transform: scale(1);
    }
    55%,
    100% {
      transform: scale(0);
      clip-path: polygon(50% 0%, 50% 100%, 50% 100%, 50% 100%, 100% 50%, 50% 0%);
    }
  }
  
  #arrows > div:nth-child(2) > div {
    animation-delay: calc(var(--arrows-dur) / 2);
  }
  
  #circles {
    position: relative;
    padding: 0.5rem;
  }
  
  #circles > div {
    box-sizing: border-box;
    position: absolute;
    top: 0%;
    left: 0%;
    width: 33%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    will-change: transform;
    animation: circles-move var(--circles-dur) linear infinite both;
  }
  
  @keyframes circles-move {
    0% {
      left: 2%;
      scale: 0;
      transform-origin: left center;
    }
    25% {
      left: 2%;
      transform-origin: left center;
    }
    25%,
    75% {
      scale: 1;
    }
    75% {
      left: 65%;
      transform-origin: right center;
    }
    100% {
      left: 65%;
      scale: 0;
      transform-origin: right center;
    }
  }
  
  #circles > div::before {
    content: "";
    width: 100%;
    aspect-ratio: 1;
    background: var(--black);
    border-radius: 999px;
  }
  
  #circles > div:nth-child(2) {
    animation-delay: calc(var(--circles-dur) * 0.25);
  }
  
  #circles > div:nth-child(3) {
    animation-delay: calc(var(--circles-dur) * 0.5);
  }
  
  #rects {
    transform: scaleX(-1);
    overflow: hidden;
    position: relative;
    padding: 0.5rem;
  }
  
  .overflow-hidden {
    position: relative;
    overflow: hidden;
    width: 100%;
    height: 100%;
    box-sizing: content-box;
  }
  
  .rect-group {
    position: absolute;
    right: 0%;
    top: 0;
    width: 400%;
    height: 100%;
    display: flex;
    box-sizing: content-box;
    animation: squish-rect var(--rects-dur) linear infinite both;
  }
  
  @keyframes squish-rect {
    0% {
      right: 100%;
      animation-timing-function: ease-out;
    }
  
    10% {
      width: 400%;
    }
  
    15% {
      right: 0%;
    }
  
    40% {
      width: 100%;
      right: 0%;
    }
  
    60%,
    100% {
      width: 0%;
    }
  }
  
  .rect-group:nth-child(2) {
    animation-delay: calc(var(--rects-dur) / 2);
  }
  
  .rect {
    flex: 1;
    flex-grow: 4;
    background: var(--black);
    border-radius: 32px;
  }
  
  .rect:nth-child(2) {
    flex-grow: 3;
  }
  
  .rect:nth-child(3) {
    flex-grow: 2;
  }
  
  .rect:nth-child(4) {
    flex-grow: 1;
  }
  
  #marbles {
    background: var(--green);
  }
  
  .curve-path {
    fill: var(--color);
  }
  
  #marbles > div {
    width: 100%;
    height: 100%;
    position: relative;
  }
  
  .curve-vector {
    width: 100%;
    height: 100%;
    left: 0px;
    top: 0px;
    position: absolute;
    fill: var(--black);
  }
  
  .marble {
    position: absolute;
    height: 36%;
    top: 7%;
    left: 1%;
    width: auto;
    aspect-ratio: 1;
    border-radius: 999px;
    will-change: transform;
    transform: translateX(29%);
    animation: marble-translate-x var(--marbles-dur) infinite both;
  }
  
  @keyframes marble-translate-x {
    0%,
    5% {
      transform: translateX(29%);
      animation-timing-function: ease-in;
    }
    37.5% {
      transform: translateX(495%);
      animation-timing-function: cubic-bezier(0.25, 0.9, 0.15, 1);
    }
    80%,
    100% {
      transform: translateX(29%);
    }
  }
  
  .marble::after {
    content: "";
    position: relative;
    display: block;
    width: 100%;
    height: 100%;
    border: 0.5rem solid var(--black);
    box-sizing: border-box;
    scale: 0.9;
    border-radius: 999px;
    background-color: var(--green);
    transform-origin: 50% 50%;
    will-change: transform;
    scale: 1;
    transform: translateY(8%);
    animation: marble-translate-y var(--marbles-dur) infinite both;
  }
  
  @keyframes marble-translate-y {
    0% {
      scale: 0;
      transform: translateY(8%);
    }
    5% {
      scale: 1;
    }
  
    35% {
      transform: translateY(8%);
      animation-timing-function: cubic-bezier(0.9, 0.15, 0.15, 1);
    }
    40% {
      transform: translateY(134%);
    }
    70% {
      transform: translateY(134%);
      scale: 1;
    }
    75% {
      transform-origin: 50% 184%;
      scale: 0;
    }
    100% {
      scale: 0;
      transform: translateY(134%);
      transform-origin: 50% 184%;
    }
  }
  
  .marble:nth-child(3),
  .marble:nth-child(3):after {
    animation-delay: calc(var(--marbles-dur) / 4);
  }
  
  .marble:nth-child(4),
  .marble:nth-child(4):after {
    animation-delay: calc(calc(var(--marbles-dur) / 4) * 2);
  }
  
  .marble:nth-child(5),
  .marble:nth-child(5):after {
    animation-delay: calc(calc(var(--marbles-dur) / 4) * 3);
  }
  .marble:nth-child(6),
  .marble:nth-child(6):after {
    animation-delay: calc(calc(var(--marbles-dur) / 4) * 4);
  }
  